<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
  <title>- alex lau -</title>
  <style>
    @keyframes scroller {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(-50%);
      }
    }
    * {
      font-family: monospace;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-size: 1.2rem;
      color: #fff;
    }
    html {
      font-size: 1vw;
    }
    @media (max-width: 1200px) {
      html {
        font-size: 12px;
      }
    }
    body {
      display: flex;
      overflow: hidden;
      background: #000;
    }
    main {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(25vh, 1fr));
      width: 100vh;
      animation: scroller linear 20s infinite;
    }
    main:hover {
      animation-play-state: paused;
    }
    main > section {
      background-size: cover;
      transition: 500ms filter ease-in-out;
      filter: brightness(0.3);
    }
    main > section::before {
      content: "";
      padding-bottom: 100%;
      display: block;
    }
    main > section:hover {
      z-index: 1000;
      filter: brightness(1);
    }
    main > section:hover:after {
      position: absolute;
      content: "";
      top: -0.8rem;
      left: -0.8rem;
      width: 100%;
      height: 100%;
      display: block;
      border: 0.8rem solid #fff;
    }
    aside {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 4rem;
      min-width: 400px;
      max-width: calc(100vw - 100vh);
      height: 100vh;
    }
    h1 {
      font-size: 4rem;
    }
    h2 {
      font-size: 3rem;
    }
    h3 {
      font-size: 2rem;
    }
    h4 {
      font-size: 1.6rem;
    }
    aside > div {
      margin-top: 1.4rem;
    }
    p {
      margin-top: 0.2rem;
    }
    p.right {
      text-align: right;
    }
    p:first-of-type {
      margin-top: auto;
    }
    a {
      color: #fff;
      text-decoration: none;
    }
    a:hover {
      border-bottom: 2px solid #fff;
    }

    @media (max-width: 480px) {
      main {
        width: 100vw;
        grid-template-columns: repeat(2, 1fr);
      }
      aside {
        position: absolute;
        width: 100vw;
        min-width: unset;
        max-width: unset;
      }
      .intro {
        display: none;
      }
    }
  </style>
</head>
<body>
  <main></main>
  <aside>
    <audio muted></audio>
    <h1>alex lau</h1>
    <h3>- code</h3>
    <h3>- music</h3>
    <h3>- linguistics</h3>
    <div class="text">
      <p class="playing"><span></span></p>
      <p class="tip">hover on album covers for detail</p>
      <p class="intro"></p>
    </div>
    <p><a href="static/cv.pdf">cv</a></p>
    <p><a href="gd-radar.html">gd-radar</a></p>
    <p><a href="styled-latin.html">styled-latin</a></p>
    <p class="right"><a href="https://t.me/alejandrolau">@alejandrolau</a></p>
    <p class="right"><a href="mailto:alejandrolau@msn.cn">alejandrolau#msn.cn</a></p>
  </aside>
  <script>
    const imgSrc = [
      {
        id: 'esto-es-estopa',
        title: 'Esto es Estopa',
        artist: 'Estopa',
        year: 2014,
        comment: 'Estopa performed this unplugged live with their greatest Spanish folk-rock songs. It\'s just like an Iberian breeze that brings you back to Barcelona.',
        track: '01. Como Camarón',
      },
      {
        id: 'ev-en-vivo',
        title: 'EV: En Vivo',
        artist: 'Enanitos Verdes',
        year: 2004,
        comment: '',
        track: '13. Luz de Día',
      },
      {
        id: 'odisea',
        title: 'Odisea',
        artist: 'Ozuna',
        year: 2017,
        comment: '',
        track: '02. Tu Foto',
      },
      {
        id: 'zuno-keisatsu-1',
        title: 'Zuno Keisatsu 1',
        artist: 'Zuno Keisatsu',
        year: 1975,
        comment: 'Rebel, romantic and revolutionary. Zuno Keisatsu somehow reminds us of that red era when all proletariats are really united, where Japan was not absent.',
        track: '04. Farewell, Mrs. World',
      },
      {
        id: 'cover-70s',
        title: 'Cover 70\'s',
        artist: 'Jun Shibata',
        year: 2012,
        comment: '',
        track: '11. Farewell at 22',
      },
      {
        id: '45',
        title: '45',
        artist: 'Kino',
        year: 1982,
        comment: 'If you haven\'t listened to Viktor Tsoy, you don\'t know Russian rock; and if you haven\'t listened to 45, you don\'t know Tsoy. Now it\'s time to get to know him.',
      },
      {
        id: 'touming-magazine-forever',
        title: 'Touming Magazine Forever',
        artist: 'Touming Magazine',
        year: 2012,
        comment: '',
        track: '01. Touming Magazine Forever',
      },
      {
        id: 'omnipotent-youth-society',
        title: 'Omnipotent Youth Society',
        artist: 'Omnipotent Youth Society',
        year: 2010,
        comment: 'Leading band of contemporary Chinese rock - OYS marks the beginning of the 2nd rock wave in China. Their skill and understanding on instruments will make you excited.',
        track: '01. Palace of Dog Piss',
      },
      {
        id: 'ao-vivo',
        title: 'Ao Vivo',
        artist: 'Paula Fernandes',
        year: 2010,
        comment: '',
        track: '09. Não Precisa'
      },
      {
        id: 'that-year',
        title: 'That Year',
        artist: 'Xu Wei',
        year: 2000,
        comment: 'Xu suffered from melancholia at the time he recorded this album. All the aggressive riffs and shout-outs are like crashing the wall in his brain.',
      },
      {
        id: 'poems-of-life',
        title: 'Poems of Life - Unplugged',
        artist: 'Gao Qi & Overload',
        year: 2006,
        comment: 'First and maybe the best unplugged rock live show of China. Laopaors (老炮儿) never die, they simply fade away.',
      },
      {
        id: 'because-i-was-too-nervous-at-that-time',
        title: 'Because I Was Too Nervous At That Time',
        artist: 'My Little Airport',
        year: 2005,
        comment: 'Youngsters in a densely populated city have their dreams and troubles. In this album MLA not only records the daily lives of theirs, but also the secret things in their mind.',
      },
      {
        id: 'meteora',
        title: 'Meteora',
        artist: 'Linkin Park',
        year: 2003,
        comment: 'An epochal band that changes metal, rock and hip-hop at the same time. Linkin Park is the best band in the pre-20s in my opinion.',
      },
      {
        id: 'summer-fever',
        title: 'Summer - Fever',
        artist: 'Sodagreen',
        year: 2003,
        comment: '',
      },
      {
        id: 'desde-siempre',
        title: 'Desde Siempre',
        artist: 'Chayanne',
        year: 2003,
        comment: '',
      },
      {
        id: 'meteora',
        title: 'Meteora',
        artist: 'Linkin Park',
        year: 2003,
        comment: 'An epochal band that changes metal, rock and hip-hop at the same time. Linkin Park is the best band in the pre-20s in my opinion.',
      },
    ];
    const main = document.querySelector('main');
    function showIntro(info) {
      if (!info) {
        $('.intro').empty();
        $('.tip').text('hover on album covers for detail');
        return;
      }
      const { title, artist, year, comment } = info;
      $('.tip').text('click on cover to listen to track');
      const spans = `<br/>
      <strong>${title.split('').join('</strong><strong>')}</strong>
      <br/>
      <span>${`${artist} (${year})`.split('').join('</span><span>')}</span>
      <br/>
      <br/>
      <span>${comment.split('').join('</span><span>')}</span>`;
      $(spans).hide().appendTo('.intro').each(function (i) {
        $(this).delay(100 * i).css({
          display: 'inline',
          opacity: 0
        }).animate({
          opacity: 1
        }, 100);
      });
    };

    function playAudio (info) {
      const [player] = $('audio');
      if (!info) {
        player.src = '';
        player.pause();
        $('.playing').hide();
      }
      player.src = `./assets/audio/${info.id}.ogg`;
      player.play();
      player.muted = false;
      $('.playing').html(`<span></span> >> ${info.title} ${info.track}`);
      $('.playing').show();
    };

    const [player] = $('audio');
    player.addEventListener('timeupdate', () => {
      $('.playing span').text(`${Math.floor(player.currentTime / 60)}:${String(Math.floor(player.currentTime % 60)).padStart(2, '0')}`);
    });

    [...imgSrc, ...imgSrc].forEach((info) => {
      const section = document.createElement('section');
      section.style.backgroundImage = `url('./assets/cover/${info.id}.jpg')`;
      section.onmouseover = () => {
        showIntro(info);
      };
      section.onmouseout = () => {
        showIntro();
      };
      section.onclick = () => {
        playAudio(info);
      };
      document.onclick = (e) => {
        if (e.target.nodeName === 'SECTION') return;
        playAudio();
      };
      main.appendChild(section);
    })
  </script>
</body>
</html>